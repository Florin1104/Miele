/*******************************************************************************
@Module         Twin Dos
--------------------------------------------------------------------------------
@Filename       TwinDos.cpp
--------------------------------------------------------------------------------
@Description    check in header file for more details

--------------------------------------------------------------------------------
@Author         Iulian G.
@Date           14.11.2018

@Copyright      Miele  Cie Copyright 2018

*******************************************************************************/


/*******************************************************************************
@Project Includes
*******************************************************************************/
#include "TwinDos.h"

/*******************************************************************************
@Constants (global)
*******************************************************************************/

/*******************************************************************************
@Macros (global)
*******************************************************************************/

/*******************************************************************************
@Type definitions  (global)
*******************************************************************************/

/*******************************************************************************
@Local Variables 
*******************************************************************************/

/*******************************************************************************
@External Prototypes
*******************************************************************************/

/*******************************************************************************
@Prototypes local Functions
*******************************************************************************/

/*******************************************************************************
Function description and additional notes,
are given at the function prototype in the header file
*******************************************************************************/
TwinDos::TwinDos()
{
    m_InputPin_u8 = 0;
    m_InitFlag_b = false;
}

/*******************************************************************************
Function description and additional notes,
are given at the function prototype in the header file
*******************************************************************************/
bool TwinDos::Initialise_e(uint8_t pin_u8)
{
    bool initialized_b = false;
    
    if(m_InitFlag_b == false)
    {
        m_InputPin_u8 = pin_u8;
        pinMode(m_InputPin_u8, INPUT_PULLUP);

        m_InitFlag_b = true;
        initialized_b = true;
    }
    return initialized_b;
}

/*******************************************************************************
Function description and additional notes,
are given at the function prototype in the header file
*******************************************************************************/
bool TwinDos::isPresent_b()
{
    bool cartridgeIn_b = false;
    
    // "!" because when pressed they will connect to ground, their value will be "0", so: if(false && false)
    if(!digitalRead(m_InputPin_u8))
    {
        cartridgeIn_b = true;
    }
    
    return cartridgeIn_b;
}